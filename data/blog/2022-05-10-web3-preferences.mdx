---
slug: "web3-preferences"
title: "Preference Storage for DApps using Metamask with NextJs"
author: "burak"
tags: [redis, nextjs, web3, blockchain, metamask, dapp, dao]
---

Each coming day, web3 applications such as DAOs and DAPPs are getting more and more popular. By the premises of Web3, these platforms are supposed to provide a more personal and customized experience for their users while keeping their identities private to others or even unknown to themselves.

In this project, we explore how we can enchance the user experience for such cases.


## Authentication / Identity Check through Wallets

Authentication / Identity Check through Wallets
For many applications blockchain wallets like Metamask are used to manage crypto assets such as ETH. Wallets as such let users create accounts on different chains. These accounts are created with private keys, however each account has a public address representing them.

Since public keys can be shown by anyone but transactions related to it can only be managed by the owner, wallet connections provide a solid authentication mechanism for these kind of applications.


## What we are implementing
We are implementing a preference storage system using NextJs, where the users persistently customize the interface provided to them. Meaning, whenever they come back to that site, they will see the UI as they intended.

Even more powerful idea could be normalizing user interfaces accross companies' sub&cross-platforms. This way, whenever a user navigates to a certain site supporting the preferences they set on other sites, they will have a similar experience.

Also, this project can be modified to change the number of parameters for customization, allowing you to mold it into however structure you have on mind.

For this sample project, there are only 2 parameters. Namely:
* Theme of the website
* Greeting name for the user


## Workflow
#### User not connected via Metamask yet. Defualt Template.
![web3-before-connection](/blog/web3-preferences/web3-before-connection.png)

#### User connected via Metamask for the first time. Default Template.

![web3-initial-preferences](/blog/web3-preferences/web3-initial-preferences.png)

* User enters a name that they want to see when greeted to platforms.
* User selects between themes, namely light and dark.

#### User preferences are set up. From now on, same interface can be shown in any platform supporting the preference interface provided. User-customized template.
![web3-changed-preferences](/blog/web3-preferences/web3-changed-preferences.png)


The component shows the preferences set by user in text format, you can parse them however you like.

As you can see in this simple example, you can parametrize any component that you show to user. You can always add to this project by improving the design and increasing the number of parameters; however the fundamental logic stays the same.

## Final Words
#### To see a demo of the project, you can go [there](https://web3-preferences.vercel.app/).

#### To see the finished project, go to [Github Repo](https://github.com/upstash/redis-examples/tree/master/web3-preferences) of the project.
There, you will see a quick deploy button for Vercel deployment; letting you deploy the project quickly, creating an Upstash Redis integration automatically.

#### Otherwise, you can:
##### Create Database and Environment Variables manually:
- The data will be kept at Upstash Redis.
- Create a free Redis database at Upstash Console
- Copy the .env.local.example file to .env.local (which will be ignored by Git):
- UPSTASH_REDIS_REST_URL and UPSTASH_REDIS_REST_TOKEN can be found at the database details page in Upstash Console.

And with that, we are expecting your ideas and thoughts. You can reach as via twitter or discord.















